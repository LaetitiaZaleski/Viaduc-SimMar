<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Viaduc</title>
    <!-- INCLUDE DES LIBS (BOOTSTRAP + AUTRES)-->
    <script type="text/javascript" src="sources/lib/jquery-3.4.1/jquery-3.4.1.min.js"></script>

    <script type="text/javascript" src="sources/lib/bootstrap-4.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="sources/lib/bootstrap-4.3.1/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="sources/lib/bootstrap-4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="sources/lib/bootstrap-4.3.1/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="sources/lib/bootstrap-4.3.1/css/bootstrap-reboot.min.css">

    <script type="text/javascript" src="sources/lib/bootstrap-slider/bootstrap-slider.min.js"></script>
    <link rel="stylesheet" href="sources/lib/bootstrap-slider/bootstrap-slider.min.css">

    <script type="text/javascript" src="sources/lib/bootstrap-slider/nouislider.min.js"></script>
    <link rel="stylesheet" href="sources/lib/bootstrap-slider/nouislider.min.css">



    <script type="text/javascript"  src="sources/lib/plotly/plotly-latest.min.js"></script>

    <!-- INCLUDE DES STYLES ET SCRIPT DE LA PAGE -->

    <link rel="stylesheet" href="sources/styles/default.css">
    <link rel="stylesheet" href="sources/styles/preference.css">
    <link rel="stylesheet" href="sources/styles/home2.css">
    <link rel="stylesheet" href="sources/styles/result.css">
    <link rel="stylesheet" href="sources/styles/nonvide.css">

    <script type="text/javascript" src="sources/js/tools.js"></script>
    <script type="text/javascript" src="sources/js/getFile.js"></script>
    <script type="text/javascript" src="sources/js/preference.js"></script>
    <script type="text/javascript" src="sources/js/nonVideMulti.js"></script>
    <script type="text/javascript" src="sources/js/nonvide.js"></script>


</head>
<body>

<div class="txt-center">

    <h1>
        Phase de négociation
    </h1>
    <span>
        Maintenant que votre noyau est non vide, nous pouvons regarder s'il existe un noyau non vide
        satisfaisant les préférences de tout les utilisateurs. Pour cela, nous commençons par regarder
        si les préférences des utilisateurs ont une intersection non vide.</span>
    <span>
        En bas de page vous verrez afficher les derniers noyaux calculés par chaque utilisateur ayant calculé un noyau.
        En bleu celui de l'opérateur de tourisme, en rose celui du pecheur et en vert celui de l'écologiste.
    </span>
    <span>
        Ensuite, vous pouvez appuyer sur "Calculer un noyau dans l'intersection" ce qui calculera, pour votre modèle (c'est à dire pour les valeurs que vous avez indiquée dans le première phase),
        s'il existe un noyau non vide dans l'intersection des préférences de tous les utilisateurs.
    </span>

    <h3>
        Préférences des utilisateurs :
    </h3>

    <div>
        <div class="">
            <div>

                <div id="tortues">
                    <span> <b>Nombre d'animaux : </b><img src="sources/img/animaux.png" width="50px"></span>
                    <div> <span > Tourisme :  <img src="sources/img/iconeOperateur.png" width="30px"></span></div> <span id="impAniMinTourisme"></span><span id="valueAniTourismeSliderVal1" class="orange"></span> - <span id="valueAniTourismeSliderVal2" class="vert" ></span> - <span id="valueAniTourismeSliderVal3" class="vert"></span> - <span id="valueAniTourismeSliderVal4" class="orange"></span><span id="impAniMaxTourisme"></span>


                    <section class="disabled-range-slider ">



                        <div>
                            <div id="slider-Ani-Tourisme" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                        </div>

                    </section>

                    <div>

                        <div> <span > Ecologiste : <img src="sources/img/iconeEcolo.png" width="30px"></span></div><span id="impAniMinEcologiste"></span><span id="valueAniEcologisteSliderVal1" class="orange"></span> - <span id="valueAniEcologisteSliderVal2" class="vert" ></span> - <span id="valueAniEcologisteSliderVal3" class="vert"></span> - <span id="valueAniEcologisteSliderVal4" class="orange"></span><span id="impAniMaxEcologiste"></span>


                        <section class="disabled-range-slider ">

                            <div>
                                <div id="slider-Ani-Ecologiste" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                        </section>

                            <div> <span > Pecheur : <img src="sources/img/iconePecheur.png" width="30px"></span></div> <span id="impAniMinPecheur"></span><span id="valueAniPecheurSliderVal1" class="orange"></span> - <span id="valueAniPecheurSliderVal2" class="vert" ></span> - <span id="valueAniPecheurSliderVal3" class="vert"></span> - <span id="valueAniPecheurSliderVal4" class="orange"></span><span id="impAniMaxPecheur"></span>


                        <section class="disabled-range-slider ">

                            <div>
                                <div id="slider-Ani-Pecheur" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                        </section>
                    </div>
                </div>

                <div id="capital">
                    <div>
                        <span> <b>Capital des infrastructures de pêche </b> <img src="sources/img/capital.png" width="50px"></span>
                    </div>
                    <div> <span > Tourisme : <img src="sources/img/iconeOperateur.png" width="30px"></span></div>  <span id="impCapMinTourisme"></span><span id="valueCapTourismeSliderVal1" class="orange"> </span> - <span id="valueCapTourismeSliderVal2" class="vert" ></span> - <span id="valueCapTourismeSliderVal3" class="vert"></span> - <span id="valueCapTourismeSliderVal4" class="orange"></span><span id="impCapMaxTourisme"></span>

                    <section class="disabled-range-slider ">
                        <span class="rangeValues"></span>

                        <div>
                            <div id="slider-Cap-Tourisme" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                        </div>
                    </section>
                        <div> <span > Ecologiste : <img src="sources/img/iconeEcolo.png" width="30px"></span></div><span id="impCapMinEcologiste"></span><span id="valueCapEcologisteSliderVal1" class="orange"> </span> - <span id="valueCapEcologisteSliderVal2" class="vert" ></span> - <span id="valueCapEcologisteSliderVal3" class="vert"></span> - <span id="valueCapEcologisteSliderVal4" class="orange"></span><span id="impCapMaxEcologiste"></span>

                    <section class="disabled-range-slider ">
                        <div>
                                <div id="slider-Cap-Ecologiste" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                    </section>
                            <div> <span > Pecheur : <img src="sources/img/iconePecheur.png" width="30px"></span></div> <span id="impCapMinPecheur"></span><span id="valueCapPecheurSliderVal1" class="orange"></span> - <span id="valueCapPecheurSliderVal2" class="vert" ></span> - <span id="valueCapPecheurSliderVal3" class="vert"></span> - <span id="valueCapPecheurSliderVal4" class="orange"></span><span id="impCapMaxPecheur"></span>

                    <section class="disabled-range-slider ">

                        <div>
                                <div id="slider-Cap-Pecheur" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>


                    </section>
                </div>
                <div id="touristes">
                    <div>
                        <span> <b>Nombre de touristes : </b> <img src="sources/img/touristes.png" width="50px"> </span>
                    </div>
                    <div> <span > Tourisme : <img src="sources/img/iconeOperateur.png" width="30px"></span></div>  <span id="impTourMinTourisme"></span><span id="valueTourTourismeSliderVal1" class="orange"></span> - <span id="valueTourTourismeSliderVal2" class="vert" ></span> - <span id="valueTourTourismeSliderVal3" class="vert"></span> - <span id="valueTourTourismeSliderVal4" class="orange"></span><span id="impTourMaxTourisme"></span>

                    <section class="disabled-range-slider ">
                        <span class="rangeValues"></span>

                        <div>
                            <div id="slider-Tour-Tourisme" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                        </div>
                    </section>
                <div> <span > Ecologiste : <img src="sources/img/iconeEcolo.png" width="30px"></span></div><span id="impTourMinEcologiste"></span><span id="valueTourEcologisteSliderVal1" class="orange"></span> - <span id="valueTourEcologisteSliderVal2" class="vert" ></span> - <span id="valueTourEcologisteSliderVal3" class="vert"></span> - <span id="valueTourEcologisteSliderVal4" class="orange"></span><span id="impTourMaxEcologiste"></span>

                    <section class="disabled-range-slider ">

                       <div>
                                <div id="slider-Tour-Ecologiste" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                    </section>
            <div> <span > Pecheur : <img src="sources/img/iconePecheur.png" width="30px"></span></div> <span id="impTourMinPecheur"></span><span id="valueTourPecheurSliderVal1" class="orange"></span> - <span id="valueTourPecheurSliderVal2" class="vert" ></span> - <span id="valueTourPecheurSliderVal3" class="vert"></span> - <span id="valueTourPecheurSliderVal4" class="orange"></span><span id="impTourMaxPecheur"></span>

                    <section class="disabled-range-slider ">

                        <div>
                                <div id="slider-Tour-Pecheur" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                    </section>
                </div>
            </div>
            <div>
                <h4>
                    Choix des moyens d'actions :
                </h4>
                <div>
                    <div>
                        <span> <b>Taille des mailles des filets :  <img src="sources/img/mailles.png" width="50px"></b> </span>

                    </div>

                        <span class="rangeValues"></span>

                    <div> <span > Tourisme : <img src="sources/img/iconeOperateur.png" width="30px"></span></div> <span id="impEnvMinTourisme"></span> <span id="valueEnvTourismeSliderVal1" class="orange"></span> - <span id="valueEnvTourismeSliderVal2" class="vert" ></span> - <span id="valueEnvTourismeSliderVal3" class="vert"></span> - <span id="valueEnvTourismeSliderVal4" class="orange"></span> <span id="impEnvMaxTourisme"></span>


                    <section class="disabled-range-slider ">

                        <div>
                            <div id="slider-Env-Tourisme" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                        </div>

                    </section>
                    <div> <span > Ecologiste : <img src="sources/img/iconeEcolo.png" width="30px"></span></div> <span id="impEnvMinEcologiste"></span> <span id="valueEnvEcologisteSliderVal1" class="orange"></span> - <span id="valueEnvEcologisteSliderVal2" class="vert" ></span> - <span id="valueEnvEcologisteSliderVal3" class="vert"></span> - <span id="valueEnvEcologisteSliderVal4" class="orange"></span> <span id="impEnvMaxEcologiste"></span>

                    <section class="disabled-range-slider ">
                        <div>
                                <div id="slider-Env-Ecologiste" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                    </section>
                    <div> <span > Pecheur : <img src="sources/img/iconePecheur.png" width="30px"></span></div> <span id="impEnvMinPecheur"></span>  <span id="valueEnvPecheurSliderVal1" class="orange"></span> - <span id="valueEnvPecheurSliderVal2" class="vert" ></span> - <span id="valueEnvPecheurSliderVal3" class="vert"></span> - <span id="valueEnvPecheurSliderVal4" class="orange"></span> <span id="impEnvMaxPecheur"></span>

                    <section class="disabled-range-slider ">
                        <div>
                                <div id="slider-Env-Pecheur" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>

                    </section>
                </div>

                <div>
                    <div>
                        <span> <b>Proportion de l'aire protégée fermée au tourisme <img src="sources/img/proportion.png" width="50px"></b></span>

                    </div>
                        <span class="rangeValues"></span>

                    <div> <span > Tourisme : <img src="sources/img/iconeOperateur.png" width="30px"></span></div> <span id="impOuvMinTourisme"></span><span id="valueOuvTourismeSliderVal1" class="orange"></span> - <span id="valueOuvTourismeSliderVal2" class="vert" ></span> - <span id="valueOuvTourismeSliderVal3" class="vert"></span> - <span id="valueOuvTourismeSliderVal4" class="orange"></span><span id="impOuvMaxTourisme"></span>

                        <section class="disabled-range-slider ">

                        <div>
                            <div id="slider-Ouv-Tourisme" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                        </div>
                        </section>

                    <div> <span > Ecologiste : <img src="sources/img/iconeEcolo.png" width="30px"></span></div><span id="impOuvMinEcologiste"></span><span id="valueOuvEcologisteSliderVal1" class="orange"></span> - <span id="valueOuvEcologisteSliderVal2" class="vert" ></span> - <span id="valueOuvEcologisteSliderVal3" class="vert"></span> - <span id="valueOuvEcologisteSliderVal4" class="orange"></span><span id="impOuvMaxEcologiste"></span>

                        <section class="disabled-range-slider ">
                       <div>
                                <div id="slider-Ouv-Ecologiste" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>
                        </section>

                    <div> <span > Pecheur : <img src="sources/img/iconePecheur.png" width="30px"></span></div><span id="impOuvMinPecheur"></span><span id="valueOuvPecheurSliderVal1" class="orange"></span> - <span id="valueOuvPecheurSliderVal2" class="vert" ></span> - <span id="valueOuvPecheurSliderVal3" class="vert"></span> - <span id="valueOuvPecheurSliderVal4" class="orange"></span><span id="impOuvMaxPecheur"></span>

                    <section class="disabled-range-slider ">
                        <div>
                                <div id="slider-Ouv-Pecheur" style="top: 0px; right: 1px; margin: 10px 25px;" disabled="true"></div>
                            </div>

                    </section>
                </div>
            </div>
        </div>
    </div>


    <div>
        <span>
       Ici vous pouvez voir le noyau de chaque utilisateur : en bleu celui de l'opérateur de tourisme, en rose celui du pêcheur et en vert celui de l'ecologiste.
    </span>
        <span>
        Ensuite, vous pouvez appuyer sur "Calcul de noyaux dans l'intersection" ce qui calculera, pour votre modèle,
        s'il existe un noyau non vide dans l'intersection des préférences de tous les utilisateurs. Si c'est le cas il sera affiché sur le même graphe que
            les autres noyaux. Si chacun a obtenu un noyau non vide dans l'intersection des contraintes, et que ce noyau est satisfaisant pour tout le monde,
            la partie peut s'arrêter ici en choisissant l'intersection de vos préférences comme objectifs et moyens d'action communs.
        </span>

        <span>
        Si au moins un joueur a obtenu un noyau vide avec la méthode précédente (calcul dans l'intersection de contraintes) nous pouvons vous aider à
            relâchez vos contraintes pour vous aider à obtenir une combinaison d'objectifs et de moyens d'action qui vous conviennent à tous.
            Pour cela appuyez sur le bouton "Recherche de Noyaux non-vides". Le calcul peut prendre quelques minutes. Une fois le calcul fini, plusieurs solutions sont proposées. Appuyer sur le bouton correspondant à la
        solution pour qu'elle apparaisse ci-dessous. Vous pouvez ainsi comparer plusieurs solutions si vous appuyez sur plusieurs boutons. Réappuyez sur le
        bouton correspondant à la solution pour qu'elle disparaisse. Vous pourrez vous mettre d'accord sur une des solutions proposées ou bien revenir en
            arrière pour modifiez vos préférences.
    </span>
    </div>



    <div style="padding: 50px">

       <button  onclick="letsCalcAll(false)" class="btn btn-primary" id="calcul" hidden="true"> Calcul de noyaux dans l'intersection </button>
        <button  onclick="setValuesLS(true);findNonVideMulti()" class="btn btn-primary" id="recherche" hidden="true"> Recherche de noyaux non-vides </button>
        <button  onclick="backToPref()" class="btn btn-primary" id="goback"> Modifier vos préférences </button>

        <br/>
    </div>



    <div id="patientezContainer"> </div>

    <div id="finalPrefButtonContainer"> </div>
    <div id="finishButtonContainer"> </div>

    <div class="preference-container" id="solutions-container" hidden="true">
        <div class="">
            <h4 id="tortues" ><div>
                    <span> Nombre d'animaux : <img src="sources/img/animaux.png" width="40px"></span></div> <span id="prefAniMin" class="purple"></span> <span id="prefAniMax" class="purple"></span>
                <div id="sliderAniContainer"></div>
            </h4>

            <h4 id="capital" ><div>
                    <span> Capital des pêcheurs : <img src="sources/img/capital.png" width="40px"></span></div>  <span id="prefCapMin" class="purple"></span> <span id="prefCapMax" class="purple"></span>
                <div id="sliderCapContainer"></div>
            </h4>

            <h4 id="touristes" ><div>
                    <span> Nombres de touristes : <img src="sources/img/touristes.png" width="40px"></span></div> <span id="prefTourMin" class="purple"></span> <span id="prefTourMax" class="purple"></span>
                <div id="sliderTourContainer" style="top: 0px; right: 1px; margin: 10px 25px;"></div>
            </h4>

            <h4 id="environnement" ><div>
                    <span> Taille des mailles des filets : <img src="sources/img/mailles.png" width="40px"></span></div> <span id="prefEnvMin" class="purple"></span>  <span id="prefEnvMax" class="purple"></span>
                <div id="sliderEnvContainer" style="top: 0px; right: 1px; margin: 10px 25px;"></div>

            </h4>

            <h4 id="ouvert" ><div>
                    <span> Proportion du parc fermée au tourisme : <img src="sources/img/proportion.png" width="40px"></span></div> <span id="prefOuvMin" class="purple"></span>  <span id="prefOuvMax" class="purple"></span>
                <div id="sliderOuvContainer" style="top: 0px; right: 1px; margin: 10px 25px;"></div>

            </h4>
        </div>
    </div>

    <div id="kernelDiv" style="width:100%;height:800px"></div>

    <button onclick="window.location.href = 'https://framaforms.org/questionnaire-viaducbridge-1586863303';">Quitter la partie</button>

</div>


<script src="sources/js/result.js"></script>
<script src="sources/js/setSliders.js"></script>


</body>
</html>